<html lang="en">
    <head>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    </head>
    <body>
        <img src="https://robinsandday.github.io/test.jpg" id="image">
        <script>
            var phaseS = null;
            $('img[id="image"]').click(function(e){
                var pos = $(this).position();
                //The following are the x/y coordinates of the mouse click relative to image.
                var x = e.pageX - pos.left;
                var y = e.pageY - pos.top;
                console.log(x,y)
                processIt(phaseS,{x:x,y:y});
            });
            var touchPoint1 = null;
            var touchPoint2 = null;
            var diamPoint1 = null;
            var diamPoint2 = null;
            function processIt(phase = 1, param = null){
                switch (phase){
                    case 1:
                        alert('Click one point in full diameter.');
                        phaseS = 2;
                    case 2:
                        diamPoint1 = param;
                        alert('Click second point in full diameter.');
                        phaseS = 3;
                    case 3:
                        diamPoint2 = param;
                        alert('Click first point in part diameter.');
                        phaseS = 4;
                    case 4:
                        touchPoint1 = param;
                        alert('Click second point in part diameter.');
                        phaseS = 5;
                    case 5:
                        touchPoint2 = param;
                        console.log(diamPoint1,diamPoint2,touchPoint1,touchPoint2)
                        console.log('diametr',distance(diamPoint1,diamPoint2),'part',distance(touchPoint1,touchPoint2))
                }
            }

            function distance(p1,p2){
                let a = p1.x - p2.x;
                let b = p1.y - p2.y;
                return Math.sqrt( a*a + b*b );
            }

            processIt();
        </script>
    </body>
</html>